
\input{../header}
\input{../headerSuppressMetaPDF.tex}

\hypersetup{
  pdfinfo={
    Author      ={Ernst Reissner},
    Title       ={Presentation with/of the latex-maven-plugin },
    Subject     ={presentations with document class beamer},
    Keywords    ={LaTeX;beamer}
  }
}

% TBD: clarify what to do if no pdf is created. 
% As soon as this question comes up in the course of new development, 
% this will be compiled as html by accident. 
% The we can see, how well this works. 

\usetheme{Berlin}
\title{Presentation with/of the \texttt{latex-maven-plugin}}
\author{E. Reissner}
\date{\today{} ernst.reissner@simuline.eu}

%\hypersetup{colorlinks=true,allcolors=blue}%
%\hypersetup{colorlinks,linkcolor=blue,urlcolor=blue,citecolor=blue}%
%\hypersetup{frenchlinks}
\begin{document}
 
\mode<article>{\maketitle}




\begin{frame}
  \titlepage%
\end{frame}

\section*{Outline}

\begin{frame}
  \tableofcontents
\end{frame}

\section{Introduction and Purpose}

This is some additional text 

\begin{frame}
  \frametitle{Purpose of these documents }
  The purpose of this presentation is twofold:
  %
  \begin{itemize}
    \item Give an overview over the plugin. 
    \alert{But: }
    %
    \begin{itemize}
      \item The single official description of the plugin is the manual~\cite{LatexPlugin}.
      \item The 
      \href{http://simuline.eu/LatexMavenPlugin/index.html}{project site} 
      gives already an overview. 
      \item 
      The content of this presentation is updated only by need. 
    \end{itemize}
    
    \item Demonstrate that the plugin can compile a presentation using the \texttt{beamer} document class 
    and a handout written as \texttt{beamerarticle}. 

    \begin{itemize}
      \item In fact, when citing this presentation as~\cite{PresBeamer}, 
      this refers to both. 
      \item The presentation is about the plugin. 
      \item The handout adds information on how to write a beamer presentation. 
      \item Both documents turn \texttt{beamer} class and package \texttt{beamerarticle} into preferred usage 
      ensuring tests. 
    \end{itemize}
  \end{itemize}
  
\end{frame}


\section{Features}

\subsection{Realized Features}

\begin{frame}
  \frametitle{Ant and Maven}
  Automatically creates documents from LaTeX sources during the Maven \texttt{site} phase 
  and in an ant run. 

  This comprises running basic tools like \texttt{lualatex} and \texttt{bibtex} 
  and rerunning them by need. 

\end{frame}

\begin{frame}
  \frametitle{Supported IO}
  Supports 
  \begin{itemize}
    \item
    many output formats like PDF, DVI, HTML, DOCX, RTF, TXT and others
    \item
    many graphical input formats like PNG, MP, FIG, gnuplot; 
    also provides a separate goal creating them, \texttt{grp} 
    \item
    bibliography, index, glossary and embedded code; in particular split index
  \end{itemize}
\end{frame}


\begin{frame}
  \frametitle{Checks}
  Checks 
  %
  \begin{itemize}
    \item
    sources with \texttt{chktex} and logs the results in target and goal \texttt{chk} 
    \item
    versions of used tools via goal \texttt{vrs} 
    \item
    log files detecting errors and warnings 
    \item
    whether a document could have been reproduced, by demand 
  \end{itemize}
\end{frame}

\begin{frame}
  \frametitle{Orchestration and document development}
  Orchestration of various tools detecting need for execution e.g.
  of \texttt{bibtex} including \texttt{rerunfilecheck} for \texttt{lualatex} and friends.

  Supports document development, mainly by cooperating with editor, viewer and with other tools in the build chain. 
  Offers 
  %
  \begin{itemize}
    \item various scripts, 
    most notably an installation script for extensions of VS Code.
    \item configuration file \texttt{.chktexrc} for \texttt{chktex}.
    \item Oconfiguration file \texttt{.latexmkrc} 
    for \texttt{latexmk} synchronized with the configuration.
    \item header files like \texttt{header.tex} 
    to unify packages loaded by latex main files.
  \end{itemize}
\end{frame}


\subsection{Planned Features}

\begin{frame}
  \frametitle{Planned Features}
  \begin{itemize}
  \item Support \texttt{biber} replacing \texttt{bibtex} as preferred tool
  \item Support \texttt{xindy} replacing \texttt{makeindex} as preferred tool
  \item Support \texttt{bib2gls} replacing \texttt{makeglossary} as preferred tool
  \item Execute \texttt{glosstex} if needed
  \item Usage of the \texttt{multibib} macros
  \item \dots
  \end{itemize}
\end{frame}

% \section{Installation}

\section{Goals}

\begin{frame}
  \frametitle{Goals}

  An overview is on the 
  \href{http://simuline.eu/LatexMavenPlugin/plugin-info.html}{goals page}. 
  
  \setbeamercolor{alerted text}{fg=blue}
  Besides goals referring to creating output of a given type 
  like \alert{\texttt{pdf}}, \alert{\texttt{odt}} and \alert{\texttt{html}}, 
  there is a goal \alert{\texttt{cfg}}, 
  which allows \setbeamercolor{alerted text}{fg=red}
  \alert con\alert fi\alert guring various output formats as \texttt{targets}. % chktex 1
  
  \setbeamercolor{alerted text}{fg=blue}
  One further goal, \alert{\texttt{chk}} to perform a check with \texttt{chktex} 
  is allowed among the \texttt{targets}. 

  The other goals cannot serve as targets: 
  %
  \begin{description}
    \item[\texttt{vrs}] to check versions of tools, 
    \item[\texttt{grp}] to create graphic files speeding up use of \texttt{latexmk} 
    and 
    \item[\texttt{inj}] to inject useful files like headers or config files 
    like \texttt{.latexmkrc}. 
  \end{description}
\end{frame}

\section{Usage}


\begin{frame}[fragile]
\frametitle{Usage: Set up repository}
As this is the main usage of this software, 
usage refers to usage as a maven plugin. 
Since it did not yet make it into the repository maven central, 
it can be accessed only giving the source repository explicitly: 

\begin{Verbatim}
<project>
  ...
  <repositories>
  <repository>
    <id>publicRepoAtSimuline</id>
    <name>repo at simuline</name>
    <url>https://www.simuline.eu/RepositoryMaven</url>
  </repository>
  ...
</project>
\end{Verbatim}
  
\end{frame}


\begin{frame}[fragile]
  \frametitle{Usage: Set up life cycles}
Also, it must be ensured that the plugin is executed 
when building the application and when building the according site. 
This is a side effect of configuring the \texttt{maven-jxr-plugin}. 

\begin{Verbatim}[fontsize=\scriptsize]
<project>
...
<reporting>
  <plugins>
    ...
    <plugin>
      <groupId>org.apache.maven.plugins</groupId>
      <artifactId>maven-jxr-plugin</artifactId>
      <version>3.3.0</version>
    </plugin>
    ...
  </plugins>
</reporting>
</project>
\end{Verbatim}
\end{frame}



\begin{frame}[fragile]
  \frametitle{Usage: Simple Example}
  
  Given this, usage can be as simple as setting 
\begin{Verbatim}[fontsize=\scriptsize]
<project>
  ...
  <build>
    <plugins>
      <plugin>
        <groupId>eu.simuline.m2latex</groupId>
        <artifactId>latex-maven-plugin</artifactId>
        <version>2.0-SNAPSHOT</version>
        <executions>
          <execution>
            <phase>site</phase>
            <goals><goal>pdf</goal></goals>
          </execution>
        </executions>
      </plugin>
    </plugins>
  </build>
  ...
</project>
\end{Verbatim}
\end{frame}

\begin{frame}[fragile]
  \frametitle{Usage: adding executions for build and clean}
  Configuring executions for build and clean looks like this. 

\begin{Verbatim}[fontsize=\scriptsize]
    <plugin>
      <groupId>eu.simuline.m2latex</groupId>
      <artifactId>latex-maven-plugin</artifactId>
      <version>2.0-SNAPSHOT</version>
        ...
      <executions>
        <execution>
          <id>process-latex-sources</id>
          <!-- chk, dvi, pdf, html, odt, docx, rtf, txt -->
          <goals><goal>cfg</goal></goals> <!-- phase>site</phase-->
        </execution>
        <execution>
          <id>clear-latex-sources</id>
          <goals><goal>clr</goal></goals> <!-- phase>clean</phase-->
        </execution>
        ...
      </executions>
    </plugin>
\end{Verbatim}

\end{frame}

\begin{frame}[fragile]
  \frametitle{Usage: adding further executions }
  It is recommended to add executions for injection and version check also 

\begin{Verbatim}[fontsize=\scriptsize]
    <plugin>
      <groupId>eu.simuline.m2latex</groupId>
      <artifactId>latex-maven-plugin</artifactId>
      <version>2.0-SNAPSHOT</version>
        ...
      <executions>
        ...
        <execution>
          <id>inject-files</id>
          <goals><goal>inj</goal></goals> <!-- phase>validate</phase-->
          <configuration>
          <injections>latexmkrc,chktexrc,header</injections>
        </configuration>
        </execution>
        <execution>
          <id>validate-converters</id>
          <goals><goal>vrs</goal></goals> <!-- phase>validate</phase-->
          <configuration>
            <versionsWarnOnly>true</versionsWarnOnly>
          </configuration>
        </execution>
      </executions>
    </plugin>
\end{Verbatim}

\end{frame}


\begin{frame}[fragile]
  \frametitle{Usage: more complex examples}
  Note that even in this complex example, 
  further configuration is only sketched, 
  which is justified because 
  there is in general little deviation from the default 
  to be mentioned explicitly. 
  So, more complex examples are rare. 

  For a full description of configuration, 
see the manual~\cite{LatexPlugin}, Chapter 6. 
\end{frame}

% \section{Examples}

\mode<presentation>
\section{References}% if with star not in toc 


\begin{frame}[allowframebreaks]
  \frametitle{References}
  \bibliographystyle{alpha}
  \bibliography{../lit,../litLMPpub}
\end{frame}

\mode<article>
\bibliographystyle{alpha}
\bibliography{../lit,../litLMPpub}

\end{document}
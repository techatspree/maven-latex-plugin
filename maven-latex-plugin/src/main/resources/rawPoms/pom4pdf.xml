<?xml version="1.0" encoding="utf-8"?>

<project xmlns="http://maven.apache.org/POM/4.0.0"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 
			     http://maven.apache.org/maven-v4_0_0.xsd">

  <!-- coordinates for model and artifact xxx -->
  <modelVersion>4.0.0</modelVersion>

  <!-- The Basics -->
  <groupId>eu.simuline.m2latex</groupId>
  <artifactId>latex-maven-plugin-pdftest</artifactId>
  <version>1.0</version>
  <packaging>jar</packaging>

  <name>Maven LaTeX Plugin pdf text</name>
  <description>
    A plugin test which shall create the manual of the latex-maven-plugin
  </description>

  <dependencies>
    <dependency>
      <groupId>junit</groupId>
      <artifactId>junit</artifactId>
      <version>4.12</version>
      <scope>test</scope>
    </dependency>
  </dependencies>

  <build>
    <plugins>
      <plugin>
        <groupId>eu.simuline.m2latex</groupId>
        <artifactId>latex-maven-plugin</artifactId>
        <version>${project.version}</version>
        <!--TBD: This must be updated with the resources plugin -->
        <configuration>
          <!--baseDirectory>${basedir}</baseDirectory-->
          <!--targetDirectory>${project.build.directory}</targetDirectory-->
          <targetSiteDirectory>${basedir}/src/test/resources/integration/target</targetSiteDirectory>
          <!-- Indicates whether the `VersionMojo` displays warnings only 
		   or also creates infos. 
		   Infos refer to the version of this plugin 
		   and also on its git commit, 
		   but also on the versions of the converters found 
		   and lists the converters excluded, i.e. those not used
		   and thus not tested on version.
		   
		   Warnings are emitted e.g. 
		   if the version of a converter does not fit the expectations,
		   the version of a converter could not be retrieved,
		   e.g. because it is not installed 
		   or if the converter specified is unknown altogether. 
		   This defaults to `false` displaying also info. 

		   The latter is appropriate for using in command line 
		   `mvn latex:vrs`, whereas in builds by default 
		   the pom overwrites this to have output only 
		   in case something goes wrong. -->
          <!--versionsWarnOnly>false</versionsWarnOnly-->
          <settings>
            <!--convertersExcluded>diff</convertersExcluded-->
            <!-- The latex source directory as a string 
relative to $baseDirectory, 
containing $texSrcProcDirectory. 
This directory determines also the subdirectory of 
$outputDirectory to lay down the generated artifacts. 
The default value is 'src/site/tex' on Unix systems. -->
            <texSrcDirectory>src/site/tex</texSrcDirectory>

            <!-- The latex source processing directory as a string 
relative to $texSrcDirectory
containing all tex main documents 
and the graphic files to be processed 
and also to be cleaned. 
Whether this is done recursively in subfolders 
is specified by $readTexSrcProcDirRec. 
The default value is '.'. -->
            <texSrcProcDirectory>.</texSrcProcDirectory>

            <!-- Whether the tex source directory $texSrcProcDirectory 
shall be read recursively for creation of graphic files, 
i.e. including the subdirectories. 
This is set to 'false' only during information development. 
The default value is 'true'. -->
            <readTexSrcProcDirRec>true</readTexSrcProcDirRec>

            <!-- The artifacts generated by $latex2pdfCommand 
will be copied to this folder 
relative to $targetSiteDirectory 
which is by default '$targetDirectory/site' on Unix systems. 
The default value is '.'.  -->
            <outputDirectory>.</outputDirectory>

            <!-- Diff directory relative to 'baseDirectory' 
     used for diffing actually created artifact against prescribed one in this directory. 
     This is relevant only if 'chkDiff' is set. 
     The according file is given by 'diffDirectoryFile'. 
     The default value is <code>.</code>. -->
            <diffDirectory>src/main/resources/docsCmp</diffDirectory>

            <!-- A comma separated list of targets 
		 to be stored in $targetSet. 
		 Allowed values are pdf, dvi, html, txt, odt and docx. 
     Note that if '$latex2pdfCommand' is set to 'xelatex', 
     the format 'dvi' and what is based on it are not supported. 
		 The default value is 'pdf, html'. 
     TBD: check whether dvi is allowed also 
        -->

            <targets>pdf</targets>            <!-- , html -->

            <!-- A comma separated list of excluded {@link Converter}s 
given by their command, i.e. by {@link Converter#getCommand()}
returned as a set by {@link #getConvertersExcluded()}. 
Excluded converters need not be installed but their names must be known. 
They don't show up in the version check of target 'vrs' 
and of course they are not allowed to be used. 
By default, this list is empty. -->
            <convertersExcluded></convertersExcluded>
            <!--convertersExcluded>xindy, upmendex</convertersExcluded-->

            <!-- The pattern to be applied to the contents of tex-files 

NOT QUITE: to the beginning 
which identifies a latex main file. 
The default value is choosen to match quite exactly 
the latex main files. 
Here we assume that the latex main file should contain 
the declaration '\documentclass' 
or the old fashioned 'documentstyle' 
preceeded by a few constucts. 
Strictly speaking, this is not necessary. 
For a more thorough discussion,  
and for an alternative approach, consult the manual. 

The default value is choosen to match quite exactly 
the latex main files, no more no less. 
Since the pattern is chosen 
according to documentation collected from the internet, 
one can never be sure whether the pattern is perfect. 

If the current default value is not appropriate, 
please overwrite it in the configuration 
and notify the developer of this plugin of the deficiency. -->
            <patternLatexMainFile>
\A(\\RequirePackage\s*(\[(\s|\w|,)*\])?\s*\{(\w|-)+\}\s*(\[(\d|\.)+\])?|
\\PassOptionsToPackage\s*\{\w+\}\s*\{(\w|-)+\}|
%.*$|
\\input\{[^{}]*\}|
\s)*
\\(documentstyle|documentclass)
            </patternLatexMainFile>


<!-- 
    The list of names of latex main files 
    without extension '.tex' separated by whitespace 
    which shall be included for creating targets, 
    except if this is empty in which cases all are included. 
    It is assumed that the names of the latex main files 
    do not contain whitespace. 
    Note that leading and trailing whitespace are trimmed. 
    Currently, names of latex main files 
    should better have pairwise different names, 
    even if in different directories. 
    The empty string is the default, i.e. including all. 
    See mainFilesExcluded -->
    <mainFilesIncluded></mainFilesIncluded>


    <!-- 
    The list of names of latex main files 
    without extension '.tex' 
    separated by whitespace 
    which shall be excluded for creating targets. 
    It is assumed that the names of the latex main files 
    do not contain whitespace. 
    Note that leading and trailing whitespace are trimmed. 
    Currently, names of latex main files 
    should better have pairwise different names, 
    even if in different directories. 
    Together with 'mainFilesExcluded', 
    this is used for document development 
    to build the pdf of a subset of documents 
    and e.g. because for a site one needs all documents, 
    but with the software only the manual is shipped. 
    The empty string is the default, i.e. excluding no file. 
    See #mainFilesIncluded
    -->
    <mainFilesExcluded>test</mainFilesExcluded>

            <!-- Path to the TeX scripts or null. 
In the latter case, the scripts must be on the system path. 
Note that in the pom, <texPath /> 
and even <texPath>    </texPath> represent the null-File. 
The default value is null. -->
            <texPath/>






            <!-- Indicates whether after creating artifacts 
						 and copying them to the output directory {@link #outputDirectoryFile} 
						 the artifacts are checked by diffing them against preexisting artifacts 
						 in {@link #diffDirectoryFile} 
						 using the diff command given by {@link #diffPdfCommand}. 
						 Note that currently, only pdf files are checkd. 
						 This is <code>false</code> by default and is set to <code>true</code> only 
						 in the context of tests. -->
            <chkDiff>true</chkDiff>


            <!-- Clean up the working directory in the end? 
		 May be used for debugging when setting false. 
		 The default value is 'true'. -->
            <cleanUp>false</cleanUp>

            <!-- This pattern is applied to file names 
and matching shall accept all the files 
which were created from a latex main file 'xxx.tex'. 
It is neither applied to directories 
nor to 'xxx.tex' itself. 
It shall not comprise neither graphic files to be processed 
nor files created from those graphic files. 

This pattern is applied 
in the course of processing graphic files 
to decide which graphic files should be processed 
(those rejected by this pattern) 
and to log warnings if there is a risk, 
that graphic files to be processed 
are skipped or that processing a latex main file overwrites 
the result of graphic preprocessing. 

When clearing the tex source directory $texSrcProcDirectory, 
i.e. all generated files should be removed, 
first those created from latex main files. 
As an approximation, 
those are removed which match this pattern. 

The sequence 'T$T' 
is replaced by the prefix 'xxx'. 
The sequence 'T$T' must always be replaced: 
The symbol '$' occurs as end-sign as ')$' 
or as literal symbol as '\$'. 
Thus 'T$T' is no regular occurrence 
and must always be replaced with 'xxx'. 

Spaces and newlines are removed 
from that pattern before matching. 

This pattern may never be ensured to be complete, 
because any package 
may create files with names matching its own patterns 
and so any new package may break completeness. 

If the current default value is not appropriate, 
please overwrite it in the configuration 
and notify the developer of this plugin of the deficiency. 
The default value is given below. -->
            <patternCreatedFromLatexMain>
^(
T$T(                        \.([^.]*|synctex\.gz|out\.ps)|
(-|ch|se|su|ap|li)?\d+\.x?html?|
                 \d+x\.x?bb|
                \d+x?\.png|
                 -\d+\.svg|
                  -.+\.(idx|ind|ilg))|
zzT$T\.e?ps|
(cmsy)\d+(-c)?-\d+c?\.png|
(pdf)?latex\d+\.fls)$
            </patternCreatedFromLatexMain>

            <!-- The fig2dev command for conversion of fig-files 
into various formats. 
Currently only pdf combined with pdf_t is supported. 
The default value is 'fig2dev'.  -->
            <fig2devCommand>fig2dev</fig2devCommand>

            <!-- The options for the command $fig2devCommand 
common to both output languages. 
For the options specific for the two output langugages 
'pdftex' and 'pdftex_t', 
see $fig2devPtxOptions and $fig2devPdfEpsOptions, 
respectively. 
The default value is the empty string. 

o '-D +/-rangelist' 
Export layers selectively ('+') 
or exclude layers from export ('-'). 
E.g. -D +10,40,55:70,80  means  keep 
only layers 10, 40, 55 through 70, and 80.
o '-j' 
i18n (internationalization feature)
o '-m mag' 
Set the magnification at which the figure is rendered 
to 'mag'.
The default is '1.0'. 
This is not usable within latex; not even '1.0'. 
o '-s fsize' 
Set the default font size (in points) 
for text objects to 'fsize'.
Refers to the latex-fonts only. 
o '-b width' 
specify width of blank border around figure (1/72 inch). -->
            <fig2devGenOptions />

            <!-- The options for the command $fig2devCommand 
specific for the output languages 'pdftex_t' 
and 'pstex_t' which are the same. 
Note that in addition to these options, 
the option '-L pdftex_t' specifies the language, 
$fig2devGenOptions specifies the options 
common for the two output langugages 
'pdftex' and 'pdftex_t' 
and '-p xxx' specifies the full path 
of the pdf/eps-file to be included without extension. 

Possible options are the following: 
(These seem to work for tex only 
although according to documentation for all languages. )
Possible values are 

o options specified for $fig2devGenOptions 
o '-E num'  
set encoding for text translation 
(0 no translation, 1 ISO-8859-1, 2 ISO-8859-2)
o '-F'  
do not set font family/series/shape, 
          so you can set it from latex. 
o '-v' 
Verbose mode.

The default value for this option is the empty string. -->
            <fig2devPtxOptions />

            <!-- The options for the command $fig2devCommand 
specific for the output language 'pdftex'. 
Note that in addition to these option1s, 
the option '-L pdftex' specifies the language and 
$fig2devGenOptions specifies the options 
common for the two output langugages 
'pdftex' and 'pdftex_t'. 
The default value for this option is the empty string. -->
            <fig2devPdfEpsOptions />

            <!-- The command for conversion of gnuplot-files 
into various formats. 
Currently only pdf (graphics) 
combined with pdf_t (latex-texts) is supported. 
The default value is 'gnuplot'. -->
            <gnuplotCommand>gnuplot</gnuplotCommand>

            <!-- The options specific for $gnuplotCommand s
output terminal 'cairolatex', 
used for mixed latex/pdf-creation. 
Note that the option 'pdf|eps' 
of the terminal 'cairolatex' is not available, 
because it is set internally. 
The default option string is empty. -->
            <gnuplotOptions />

            <!-- The command for conversion of gnuplot-files 
into metapost`s postscript. 
The default value is 'mpost'. -->
            <metapostCommand>mpost</metapostCommand>

            <!-- The options for the command $metapostCommand. 
Leading and trailing blanks are ignored. 
A sequence of at least one blank separate the proper options. 
The default value is '-interaction=nonstopmode -recorder -s prologues=2'. 
FIXME: does not work:'outputtemplate="%j_%c.mps"' -->
            <metapostOptions>-interaction=nonstopmode -recorder -s prologues=2 -s outputtemplate="%j.mps"
            </metapostOptions>

            <!-- The command for conversion of svg-files 
into a mixed format. 
The default value is 'inkscape'. -->
            <svg2devCommand>inkscape</svg2devCommand>

            <!-- The options for the command $svg2devCommand 
for exporting svg-figures into latex compatible files. 

The following options are mandatory: 
o '-D' or '- -export-area-drawing' 
Export the drawing (not the page)
o '- -export-latex' 
Export PDF/PS/EPS without text. 
Besides the PDF/PS/EPS, a LaTeX file is exported,
putting the text on top of the PDF/PS/EPS file. 
Include the result in LaTeX like: \input{latexfile.tex}. 
Note that the latter option is necessary, 
to create the expected files. 
It is also conceivable to export text as pdf/eps 

The following options are prohibited, 
because they are automatically added by the software: 
'- -export-filename=FILENAME' 
The ending of the filename, which is either eps or pdf 
determines the file type. 

The default value is the minimal value, 
'-D - -export-latex'. -->
            <svg2devOptions>-D --export-latex</svg2devOptions>

            <!-- The command to create bounding box information 
from jpg-files and from png-files. 
This is run twice: 
once with parameter '-m' 
to create '.bb'-files for driver 'dvipdfm' and 
once with parameter '-x' 
to create '.xbb'-files for driver 'dvipdfmx'. 
The default value is 'ebb'. -->
            <ebbCommand>ebb</ebbCommand>

            <!-- The options for the command $ebbCommand 
except '-m' and '-x' 
which are added automatically. 
The default value is '-v'. -->
            <ebbOptions>-v</ebbOptions>

            <!-- The LaTeX command to create above all a pdf-file with, 
              but also dvi and other formats based on these. 
Expected values are 'lualatex' 'xelatex', and 'pdflatex'. 

Note that for 'xelatex' dvi mode 
(creating xdv-files instead of dvi-files) is not supported, 
even not creating pdf or other formats via xdv. 
See also the according options '$latex2pdfOptions' and '$pdfViaDvi'. 
In particular, this maven plugin does not allow goal 'dvi' and related 
for 'xelatex'. 
Consequently, '$targets' may not contain any of these goals. 
The default value (for which this software is also tested) 
is 'lualatex'. -->
            <latex2pdfCommand>lualatex</latex2pdfCommand>

            <!-- occurs for xelatex but neither for pdflatex nor for lualatex: 
LaTeX Font Warning: Font shape 'OMS/cmtt/m/n' undefined
(Font)              using 'OMS/cmsy/m/n' instead
(Font)              for symbol 'textbackslash' on input line 371. -->

            <!-- The options for the command $latex2pdfCommand. 
Leading and trailing blanks are ignored. 
One blank separates the proper options. 

The default value comprises the following options: 
<ul>
  <li>'-interaction=nonstopmode' 
  prevents latex from stopping at the first error. </li>
<li>-synctex=1'
  makes latex create a pdf file 
  which synchronizes with an editor supporting synchtex. </li>
<li>'-recorder'
  makes latex create an fls-file specifying all inputted files. 
  May be mandatory in later versions. </li>
<li>'-shell-escape' allows the tex engine to access the shell to execute. 
This is needed for some reason for driver 'dvipdfmx' 
which seems to be the sole one supporting 
pdf-pictures in dvi-mode and pdf-pictures in pdf-mode. 

  An alternative would be \texttt{-shell-restricted}. 
  CAUTION\@: In \miktex{} this is '- -enable-write18' instead. </li>
</ul>

Among the options which are not allowed are the following: 
-draftmode              switch on draft mode (generates no output PDF) 
-output-directory=dir   to specify the output dir 
-aux-directory=dir      to specify the output aux-dir 
-job-name=name          effectively changes the output file name 
-quiet                  makes the log quiet and 
                 so circumvents error and warning detection 
-no-file-line-error     disable/enable file:line:error style messages 
-fmt=FMTNAME            use FMTNAME instead of program name or a %& line 
-progname=STRING        set program (and fmt) name to STRING
                 only names also without -progname are possible 
-help                   display this help and exit
-version                output version information and exit

Also not allowed because format is determined by this software
-output-format=FORMAT   use FORMAT for job output; FORMAT is `dvi' or `pdf'
                 pdf is the only allowed... 
-no-pdf          generate XDV (extended DVI) output rather than PDF
                This is supported by 'xelatex' only. 

For a more thorough discussion see the manual. 
-->
            <latex2pdfOptions> -interaction=nonstopmode -synctex=1 
 -recorder 
 -shell-escape 
            </latex2pdfOptions>

            <!-- The pattern is applied linewise to the log-file 
and matching indicates an error 
emitted by the command $latex2pdfCommand. 

The default value is choosen to match quite exactly 
the latex errors in the log file, no more no less. 
Since no official documentation was found, 
the default pattern may be incomplete. 
In fact it presupposes, that $latex2pdfOptions 
does not contain '-file-line-error-style'.   

If the current default value is not appropriate, 
please overwrite it in the configuration 
and notify the developer of this plugin of the deficiency. 
The default value is '(^! )' (note the space). -->
            <patternErrLatex>(^! )</patternErrLatex>

            <!-- The pattern is applied linewise to the log-file 
and matching indicates a warning 
emitted by the command $latex2pdfCommand, 
disragarding warnings on bad boxes 
provided $debugWarnings is set. 

This pattern may never be ensured to be complete, 
because any package may indicate a warning 
with its own pattern any new package may break completeness. 
Nevertheless, the default value aims completeness 
while be restrictive enough 
not to indicate a warning where none was emitted. 

If the current default value is not appropriate, 
please overwrite it in the configuration 
and notify the developer of this plugin of the deficiency. 
The default value is given below. -->
            <patternWarnLatex>
^(LaTeX Warning: |
LaTeX Font Warning: |
(Package|Class) .+ Warning: |
pdfTeX warning( \((\d|\w)+\))?: |
\* fontspec warning: |
Missing character: There is no .* in font .*!$|
A space is missing\. (No warning)\.)
            </patternWarnLatex>

            <!-- Whether debugging of 
overfull/underfull hboxes/vboxes is on: 
If so, a bad box occurs in the last LaTeX run, 
a warning is displayed. 
For details, set $cleanUp to false, 
rerun LaTeX and have a look at the log-file.
The default value is 'true'. -->
            <debugBadBoxes>true</debugBadBoxes>

            <!-- Whether debugging of warnings is on: 
If so, a warning in the last LaTeX run is displayed. 
Note that warnings on boxes 
is controlled separately via $debugBadBoxes. 
For details, set $cleanUp to false, 
rerun LaTeX and have a look at the log-file. 
The default value is 'true'. -->
            <debugWarnings>true</debugWarnings>

            <!-- Whether creation of pdf-files from latex-files 
goes via dvi-files. 

If $pdfViaDvi is set 
and the latex processor needs repetitions, 
these are all done creating dvi 
and then pdf is created in a final step 
invoking the command $dvi2pdfCommand. 
If $pdfViaDvi is not set, 
latex is directly converted into pdf. 

Currently, not only conversion of latex-files is affected, 
but also conversion of graphic files 
into graphic formats which allow inclusion in the tex-file. 
If it goes via latex, 
then the formats are more based on (encapsulated) postscript; 
else on pdf. 

In the dvi-file for jpg, png and svg 
only some space is visible and only in the final step 
performed by $dvi2pdfCommand, 
the pictures are included using the bounding boxes 
given by the .bb or the .xbb-file. 
These are both created by $ebbCommand. 

Of course, the target dvi is not affected: 
This uses always the dvi-format. 
What is also affected are the tasks 
creating html, odt or docs: 
Although these are based on htlatex which is always dvi-based, 
the preprocessing is done in dvi or in pdf. 
Also the task txt is affected. 

As indicated in '$latex2pdfCommand', 
the processor 'xelatex' does not create 'dvi' 
but 'xdv' files. 
In a sense, the 'xdv' format is an extension of 'dvi'}' 
but as for he 'xdv' format there is no viewer, 
no way 'htlatex' or other applications 
(except the \xelatex-internal 'xdvidpfmx') 
and also no according mime type, 
we refrained from subsumming this under ``kind of dvi''. 
Thus, with 'xelatex' the flag '$pdfViaDvi' may not be set. 

Performance: 
false: 17.692s-18.892s
true:  22.449s-24.500s

The default value is 'false'. -->
            <pdfViaDvi>false</pdfViaDvi>

            <!-- The driver to convert dvi into pdf-files. 
Note that this must fit the options 
of the packages 'xcolor', 'graphicx' and, provided no autodetection, 'hyperref'. 
Sensible values are 
'dvipdfm', 'dvipdfmx' and 'xdvipdfmx', which are all the same in my implementation 
and 'dvipdft' 
(which is roughly a wrapper around 'dvipdfm' with option '-t' using 'gs'). 
Note that 'dvipdf' is just a script around `dvips` using 'gs' 
but does not provide proper options; so not allowed. 
The default value is 'dvipdfmx'. -->
            <dvi2pdfCommand>dvipdfmx</dvi2pdfCommand>

            <!-- The options for the command $dvi2pdfCommand. 
The default value is '-V1.7' specifying the pdf version to be created. 
The default version for pdf format for $dvi2pdfCommand is version 1.5. 
The reason for using version 1.7 is $fig2dev which creates pdf figures in version 1.7 
and forces $latex2pdfCommand in dvi mode to include pdf version 1.7 
and finally $dvi2pdfCommand to use that also to avoid warnings. 

Using $latex2pdfCommand if used to create pdf directly, 
by default also pdf version 1.5 is created. 
For sake of uniformity, it is advisable to create pdf version 1.7 also. 
In future this will be done uniformly through \DocumentMetadata command. 

The default value is '-V1.7' but will in future be the empty string again. 
-->
            <dvi2pdfOptions>-V1.7</dvi2pdfOptions>

            <!-- The pattern is applied linewise to the log-file 
and matching triggers rerunning $latex2pdfCommand 
if $maxNumReRunsLatex is not yet reached 
to ensure termination. 

This pattern may never be ensured to be complete, 
because any package 
may indicate the need to rerun $latex2pdfCommand 
with its own pattern any new package may break completeness. 
Nevertheless, the default value aims completeness 
while be tight enough not to trigger a superfluous rerun. 

If the current default value is not appropriate, 
please overwrite it in the configuration 
and notify the developer of this plugin of the deficiency. 
The default value is given below. 
-->
            <patternReRunLatex>
^(LaTeX Warning: Label\(s\) may have changed\. Rerun to get cross-references right\.$|
Package \w+ Warning: .*Rerun( .*|\.)$|
Package \w+ Warning: .*$^\(\w+\) .*Rerun .*$|
LaTeX Warning: Etaremune labels have changed\.$|
\(rerunfilecheck\)                Rerun to get outlines right$|
\(rerunfilecheck\)                Rerun LaTeX)
            </patternReRunLatex>
            <!-- 
^(LaTeX Warning: Label\(s\) may have changed\. Rerun to get cross-references right\.$|
Package \w+ Warning: .*Rerun( .*|\.)$|
Package \w+ Warning: .*$^\(\w+\) .*Rerun .*$|
LaTeX Warning: Etaremune labels have changed\.$|
\(rerunfilecheck\)                Rerun to get outlines right$)

            -->

            <!-- The maximal allowed number of reruns of $latex2pdfCommand. 
This is to avoid endless repetitions. 
The default value is 5. 
This shall be non-negative 
or -1 which signifies that there is no threshold. -->
            <maxNumReRunsLatex>-1</maxNumReRunsLatex>


            <!-- The BibTeX command to create a bbl-file 
from an aux-file and a bib-file 
(using a bst-style file). 
The default value is 'bibtex'. -->
            <bibtexCommand>bibtex</bibtexCommand>

            <!-- The options for the command $bibtexCommand. 
The default value is the empty string. -->
            <bibtexOptions />

            <!-- The pattern is applied linewise to the blg-file 
and matching indicates that $bibtexCommand failed. 
The default value is chosen 
according to the 'bibtex' documentation. -->
            <patternErrBibtex>error message</patternErrBibtex>

            <!-- The pattern is applied linewise to the blg-file 
and matching indicates a warning $bibtexCommand emitted. 
The default value is chosen 
according to the 'bibtex' documentation. -->
            <patternWarnBibtex>^Warning--</patternWarnBibtex>

            <!-- The MakeIndex command to create an ind-file 
from an idx-file logging on an ilg-file. 
The default value is 'makeindex'. -->
            <makeIndexCommand>makeindex</makeIndexCommand>

            <!-- The options for the command $makeIndexCommand. 
The default value is the empty string. -->
            <makeIndexOptions>-c</makeIndexOptions>

            <!-- The pattern is applied linewise to the ilg-file 
and matching indicates that $makeIndexCommand failed. 
The default value '(!! Input index error )' 
is chosen according to the 'makeindex' documentation. -->
            <patternErrMakeIndex>
(!! Input index error )
            </patternErrMakeIndex>

            <!-- The pattern is applied linewise to the ilg-file 
and matching indicates a warning $makeIndexCommand emitted. 
The default value '(## Warning )' 
is chosen according to the 'makeindex' documentation. -->
            <patternWarnMakeIndex>(## Warning )</patternWarnMakeIndex>

            <!-- The pattern is applied linewise to the log-file 
and matching triggers rerunning $makeIndexCommand 
followed by $latex2pdfCommand. 

This pattern only matches a warning 
emitted by the package 'rerunfilecheck' 
e.g. used with option 'index'. 
The default value 
is chosen according to the package documentation. 

If the current default value is not appropriate, 
please overwrite it in the configuration 
and notify the developer of this plugin of the bug. -->
            <patternReRunMakeIndex>
(^\(rerunfilecheck\) +Rerun LaTeX/makeindex to get index right\.$)
            </patternReRunMakeIndex>

            <!-- The SplitIndex command to create ind-files 
          from an idx-file logging on ilg-files. 
          This command invokes $makeIndexCommand. 
          The default value is 'splitindex'. -->
            <splitIndexCommand>splitindex</splitIndexCommand>

            <!-- The options for $splitIndexCommand. 
          Here, one has to distinguish between the options 
          processed by $splitIndexCommand 
          and those passed to $makeIndexCommand. 
          The second category cannot be specified here, 
          it is already given by $makeIndexOptions. 
          In the first category is the option '-m' 
          to specify the $makeIndexCommand. 
          This is used automatically and cannot be specified here. 
          Since $splitIndexCommand is used 
          in conjunction with package 'splitidx', 
          which hardcodes various parameters 
          which are the default values for $splitIndexCommand 
          and because the option may not alter certain interfaces, 
          the only option which may be given explicitly 
          is '-V', the short cut for '- -verbose'. 
          Do not use '- -verbose' either for sake of portability. 
          The default value is '-V'; it could also be empty. -->
            <splitIndexOptions>-V</splitIndexOptions>

            <!-- The MakeGlossaries command to create a gls-file 
from a glo-file (invoked without file ending) 
also taking ist-file or xdy-file 
into account logging on a glg-file. 
The default value is 'makeglossaries'. -->
            <makeGlossariesCommand>makeglossaries</makeGlossariesCommand>

            <!-- The options for the command $makeGlossariesCommand. 
These are the options for 'makeindex' 
(not for $makeIndexCommand) 
and for 'xindy' (also hardcoded). 
The aux-file decides on whether program is executed 
and consequently which options are used. 

The default value is the empty option string. 
Nevertheless, 'xindy' is invoked as 
'xindy -L english  -I xindy -M ...'. 
With option '-L german', this is added. 
Options '-M<' for 'xindy' '-s' for 'makeindex' and '-t' and '-o' for both, 'xindy' and 'makeindex'. -->
            <makeGlossariesOptions />

            <!-- The pattern is applied linewise to the glg-file 
and matching indicates that $makeGlossariesCommand failed. 
The default value '(^\*\*\* unable to execute: )' 
is chosen according to the 'makeindex' documentation. 

If the current default value is not appropriate, 
please overwrite it in the configuration 
and notify the developer of this plugin of the bug. -->
            <patternErrMakeGlossaries>
 (^\*\*\* unable to execute: )
            </patternErrMakeGlossaries>

            <!-- The pattern in the glg-file 
indicating an error when running 'xindy' 
via $makeGlossariesCommand . 
The default value is '(^ERROR: )' 
(note the space and the brackets). 
If this is not appropriate, please modify 
and notify the developer of this plugin. -->
            <!--patternErrXindy>(^ERROR: )</patternErrXindy-->

            <!-- The pattern is applied linewise to the glg-file 
and matching indicates a warning when running 'xindy' 
via $makeGlossariesCommand. 

The default value '(^WARNING: )' 
(note the space and the brackets) 
is chosen according to the 'xindy' documentation. 

If the current default value is not appropriate, 
please overwrite it in the configuration 
and notify the developer of this plugin of the deficiency. -->
            <patternWarnXindy>(^WARNING: )</patternWarnXindy>


            <!-- The pattern is applied linewise to the log-file 
and matching triggers rerunning $makeGlossariesCommand 
followed by $latex2pdfCommand. 

This pattern only matches a warning 
emitted by the package 'rerunfilecheck' 
e.g. used with option 'glossary'. 
The default value 
is chosen according to the package documentation. 

If the current default value is not appropriate, 
please overwrite it in the configuration 
and notify the developer of this plugin of the bug. -->
            <patternReRunMakeGlossaries>
(^\(rerunfilecheck\) +Rerun LaTeX/makeindex to get glossary right\.$)
            </patternReRunMakeGlossaries>

            <!-- The Pythontex command which creates a folder 'pythontex-files-xxx' 
              with various files inside 
              from a 'pytxcode'-file (invoked without file ending) 
              and logging in a 'plg'-file. 
              The default value is pythontex' 
              but as long as this does not write a log file this software really needs, 
              we have to configure it with 'pythontexW' 
              which is a simple wrapper of 'pythontex' writing a log file. 
              CAUTION: Since 'pythontexW' is not registered with this software, 
              one has to specify it with its category as 'pythontexW:pythontex'. -->
            <pythontexCommand>pythontexW:pythontex</pythontexCommand>

            <!-- The options for the command '$pythontexCommand'. 
              For the possibilities see the manual of the pythontex package 
              or the help dialog of 'pythontex'. 
              CAUTION: '- -rerun' and '- -runall' cannot be specified both in one invocation. 
              In the context of this software, the option
              '- -interactive' is not appropriate. 
              CAUTION: For many options of the command line tool, 
              there is an according package option and the latter overrides the former. 
              CAUTION: This softwa're overwrites settings '- -rerun' and '- -runall' anyway, 
              and forces setting '- -rerun=always'. 
              The default value is '- -rerun=always'. -->
            <pythontexOptions>--rerun=always</pythontexOptions>

            <!-- The pattern in the plg-file 
              indicating that running 'pythontex', resp. 'pythontexW' via $mpythontexCommand failed.
              The default value is essentially
                  '(PythonTeX:  .+ -|    - Current: ) [1-9][0-9]* error\\(s\\), [0-9]+ warning\\(s\\)' (note the spaces)
              but due to a bug in 'pythontex' it is slightly more complicated.
              If this is not appropriate, please modify and notify the developer of this plugin. -->
            <patternErrPyTex>\* PythonTeX error|(PythonTeX:  .+ -|    - Current: ) [1-9][0-9]* error\(s\), [0-9]+ warning\(s\)</patternErrPyTex>

            <!-- The pattern in the plg-file 
              indicating a warning when running 'pythontex', resp. 'pythontexW' via $mpythontexCommand. 
              The default value is '(PythonTeX:  .+ -|    - Current: ) [0-9]+ error\\(s\\), [1-9][0-9]* warning\\(s\\)'
              (note the space and the brackets).
              If this is not appropriate, please modify and notify the developer of this plugin. -->
            <patternWarnPyTex>(PythonTeX:  .+ -|    - Current: ) [0-9]+ error\(s\), [1-9][0-9]* warning\(s\)</patternWarnPyTex>

            <!-- The Depythontex command invoked with no file ending 
              to create a file 'xxx.depytx.tex' filefrom a tex-file, 
              a depytx-file taking the output of 'pythontex' into account 
              and logging on a dplg-file. 
              The default value is 'depythontex' 
              but as long as this does not write a log file this software really needs, 
              we have to configure it with 'depythontexW' 
              which is a simple wrapper of 'depythontex' writing a log file. 
              CAUTION: Since 'depythontexW' is not registered with this software, 
              one has to specify it with its category as 'depythontexW:depythontex'. -->
            <depythontexCommand>depythontexW:depythontex</depythontexCommand>


            <!-- The additional options for the command '$depythontexCommand'. 
              To run 'depythontex' in the context of this software, 
              the options '- -overwrite - -output file' are mandatory 
              to create an output file at all and to overwrite if it already exists 
              avoiding that 'depythontex' enters interactive mode. 
              Thus these options are added silently. 
              This setting is the additional options. 
              
              The default value is the empty option string. 
              For the possibilites see the manual of the pythontex package 
              or the help dialog of 'depythontex'. -->
            <depythontexOptions></depythontexOptions>


            <!-- The tex4ht command. 
Possible values are e.g. 'htlatex' and 'htxelatex'. 
The default value (for which this software is also tested) 
is 'htlatex'. -->
            <tex4htCommand>htlatex</tex4htCommand>

            <!-- The options for the 'tex4ht'-style 
which creates a dvi-file or a pdf-file 
with information to create sgml, 
e.g. html or odt or something like that. 
The default value is 'html,2'. 

Format: 
<Output format>, <index>, <depth>, 
['info'], ['next'], ['fn-in'], ['frames'], 
['pmathml'], ['pmathml-css'], ...

options in [] are optional 
DEFAULT: html,2 
Available formats are html, xhtml, mathml, ooffice index=2  index in 2 columns. 
depth is the depth of sectioning 
to which separate files are created. 
fn-in specifies inline footnotes 
frames specifies separate frames for contents and toc 
mathml specifies mathml 
uni-html4 is used for unicode
-->
            <!-- xhtml,uni-html4,0 mathml,
,uni-html4,2,svg-->
            <tex4htStyOptions>
xhtml,uni-html4,2,pic-tabular
            </tex4htStyOptions>

            <!-- options for tex4ht.c, default is empty -->
            <!-- ' -cunihtf' forces unicode -->
            <tex4htOptions> -cunihtf -utf8</tex4htOptions>

            <!-- The options for 't4ht' which converts idv-file and lg-file 
into css-files, tmp-file and, 
by need and if configured accordingly into png files. 
The value '-p' prevents creation of png-pictures.
The default value is the empty string. -->
            <t4htOptions>-cvalidate</t4htOptions>

            <!-- The pattern is applied to file names 
and matching shall accept 
exactly the target files of goal 'html' 
for a given latex main file 'xxx.tex'. 
Matching triggers copying those files to $outputDirectory. 

The patterns for the other targets 
are hardcoded and take the form 
'^T$T\.yyy$', where 'yyy' 
may be an ending or an alternative of endings. 
This pattern is neither applied to directories 
nor to 'xxx.tex' itself. 

For an explanation of the pattern 'T$T', 
see $patternCreatedFromLatexMain. 
Spaces and newlines are removed 
from that pattern before processing. 

The pattern is designed to match quite exactly 
the files to be copied to $targetSiteDirectory, 
for the goal 'html', 
not much more and at any case not less. 
since $tex2htCommand is not well documented, 
and still subject to development, 
this pattern cannot be guaranteed to be final. 

If the current default value is not appropriate, 
please overwrite it in the configuration 
and notify the developer of this plugin of the bug. 
The default value is given below. -->
            <patternT4htOutputFiles>
 ^(T$T(((ch|se|su|ap|li)?\d+)?\.x?html?|
       \.css|
 \d+x\.x?bb|
 \d+x\.png|
 -\d+\.svg)|
      (cmsy)\d+(-c)?-\d+c?\.png)$
            </patternT4htOutputFiles>

            <!-- The latex2rtf command to create rtf from latex directly. 
The default value is 'latex2rtf'. -->
            <latex2rtfCommand>latex2rtf</latex2rtfCommand>

            <!-- The options of the command $latex2rtfCommand. 
The default value is the empty string. -->
            <latex2rtfOptions />

            <!-- The odt2doc command 
to create MS word-formats from otd-files. 
This command comes with package unoconv. 
The default value is 'odt2doc'. -->
            <odt2docCommand>odt2doc</odt2docCommand>

            <!-- The options of the command $odt2docCommand. 
Above all specification of output format 
via the option '-f'. 
Invocation is 'odt2doc -f<format> <file>.odt'. 
All output formats are shown by 'odt2doc - -show' 
but the formats interesting in this context 
are doc, doc6, doc95, docbook, docx, docx7, ooxml, rtf. 
Interesting also the verbosity options 
'-v', '-vv', '-vvv' 
the timeout '-T=secs' and '- -preserve' 
to keep permissions and timestamp 
of the original document. 
The default value is '-fdocx'. -->
            <odt2docOptions>-fdocx</odt2docOptions>

            <!-- The pdf2txt-command for converting pdf-files 
into plain text files. 
  The default value is 'pdftotext'.  -->
            <pdf2txtCommand>pdftotext</pdf2txtCommand>

            <!-- The options of the command $pdf2txtCommand. 
The default value is the empty string. -->
            <pdf2txtOptions />

            <!-- The chktex-command for checking latex main files. 
The default value is 'chktex'. -->
            <chkTexCommand>chktex</chkTexCommand>

            <!-- The options of the command $chkTexCommand, 
except '-o output-file' 
specifying the output file which is added automatically. 

Here is a list of options useful in this context. 
The first group of these are muting options: 
- '-w', '-e', '-m', 
Make the message number passed as parameter 
a warning/an error/a message and turns it on. 
Messages are not counted. 
- '-n'
Turns the warning/error number passed as a parameter off. 
- '-L'
Turns off suppression of messages on a per line basis. 

The next group of interesting options are for output control: 
- '-q'
Shuts up about copyright information.
- '-o output-file'
Specifies the output file. This is added automatically 
and shall thus not be specified by the user. 
- '-b[0|1]'
If you use the -o switch, and the named outputfile exists,
it will be renamed to 'filename.bak'.
- '-f format'
Specifies the format of the output 
via a format similar to 'printf()'. 
For details consult the manual. 
- '-vd'
Verbosity level followed by a number 'd' 
specifying the format of the output. 
The verbosity number is resolved as a pattern 
as if given by the option '-f format'. 
Thus the option '-v' is ignored 
if the option '-f format' is specified. 

The default value is '-q -b0' 
avoiding verbose output and backing up the output log-file. -->
            <chkTexOptions>-q -b0 -v1 -g0 -l ${basedir}/src/site/tex/chktexrc</chkTexOptions>


            <!-- The diff-command for diffing pdf-files strictly or just visually 
      to check that the created pdf files are equivalent with prescribed ones. 
      CAUTION: there are two philosophies: 
      Either the latex source files are created in a way that they reproduce strictly. 
      Then a strict diff command like 'diff' is appropriate. 
      Else another diff command is required which checks for a kind of visual equality. 
      The default value is a mere 'diff'. 
      Alternatives are 'diff-pdf' and 'diff-pdf-visually' 
      both implementing a visual diff. 
      Note that unlike for other tools, no options can be passed in this case explicitly. -->

            <diffPdfCommand>diff</diffPdfCommand>

          </settings>
        </configuration>

        <executions>
          <execution>
            <id>process-latex-sources-pdf</id>
            <goals>
              <goal>pdf</goal>
            </goals>
          </execution>

          <!-- tied implicitly to phase site -->
          <execution>
            <id>process-latex-sources</id>
            <goals>
              <goal>cfg</goal>
            </goals>
          </execution>
          <!-- tied implicitly to phase clean -->
          <execution>
            <id>clear-latex-sources</id>
            <goals>
              <goal>clr</goal>
            </goals>
          </execution>
          <!-- tied implicitly to phase validate -->
          <execution>
            <id>validate-converters</id>
            <goals>
              <goal>vrs</goal>
            </goals>
            <configuration>
              <versionsWarnOnly>true</versionsWarnOnly>
            </configuration>
          </execution>

        </executions>
      </plugin>
    </plugins>
  </build>
</project>
